const translations = {
    ar: {
        title: "๐ ุฅูุณุงููุฉ ุฑูุถุงู 2026",
        welcome: "ุฑูุถุงู ูุฑูู โ ุชูุจู ุงููู ุตูุงููู ูููุงููู",
        verse: "ููุง ุฃููููููุง ุงูููุฐูููู ุขูููููุง ููุชูุจู ุนููููููููู ุงูุตููููุงูู ููููุง ููุชูุจู ุนูููู ุงูููุฐูููู ููู ููุจููููููู ููุนูููููููู ุชูุชููููููู",
        verseSrc: "ุณูุฑุฉ ุงูุจูุฑุฉ - 183",
        verseTitle: "๐ ุขูุฉ ุงูููู",
        duaTitle: "๐คฒ ุฏุนุงุก ุงูููู",
        timesTitle: "๐ ููุงููุช ุตูุงุฉ ุงูููู",
        fajr: "ุงููุฌุฑ", sunrise: "ุงูุดุฑูู", dhuhr: "ุงูุธูุฑ", asr: "ุงูุนุตุฑ", maghrib: "ุงููุบุฑุจ", isha: "ุงูุนุดุงุก",
        statusSync: "ุชูุช ุงููุฒุงููุฉ ุจูุฌุงุญ - ุงูุฃููุงุช ุงูุขู 100% ุฏูููุฉ",
        statusGPS: "ูุฑุฌู ุชูุนูู GPS",
        btnGPS: '<i class="fas fa-location-arrow"></i> ุชุญุฏูุฏ ูููุนู ูุชุญุฏูุซ ุงูุฃููุงุช',
        monthTitle: "๐ ุฅูุณุงููุฉ ุฑูุถุงู 2026",
        source: "ุงููุตุฏุฑ: Aladhan API (ุชูููุช ุนุงููู ุฏููู)",
        sourceUsed: "ุงููุตุฏุฑ ุงููุณุชุฎุฏูู: Aladhan API",
        syncCity: "ุชู ุถุจุท ุงููููุน: ูุฏููุฉ",
        syncCountry: "ุ ุฏููุฉ",
        monthDesc: "ุฌุฏูู ูุงูู ุจููุงููุช ุงูุตูุงุฉ ูู 30 ูููุงู",
        selContinent: "๐ ุงุฎุชุฑ ุงููุงุฑุฉ", selCountry: "๐ณ๏ธ ุงุฎุชุฑ ุงูุฏููุฉ", selCity: "๐๏ธ ุงุฎุชุฑ ุงููุฏููุฉ",
        tableDate: "ุงูุชุงุฑูุฎ", tableRamadan: "ุฑูุถุงู", tableDay: "ุงูููู",
        footer: "ุฑูุถุงู ูุฑูู ๐ ุฅูุณุงููุฉ ุฏูููุฉ ุจุฅุฐู ุงููู",
        devName: "ุฃุณุงูุฉ ุฃุญูุฏ โฆ", devRole: "ูุทูุฑ ูุงุฌูุงุช ููุตูู ุชุฌุฑุจุฉ ูุณุชุฎุฏู",
        devDesc: "ูุณุนุฏูู ุฏุงุฆูุงู ุณูุงุน ุขุฑุงุฆู ูุงูุชุฑุงุญุงุชู ูุชุทููุฑ ูุฐุง ุงููุดุฑูุน. ุชูุงุตู ูุนู ุนุจุฑ ุฃูู ูู ุงูููุตุงุช ุงูุชุงููุฉ:",
        audioPlay: "ุชุดุบูู ุงูุตูุช", audioMute: "ูุชู ุงูุตูุช",
        langBtn: "Language / ุงููุบุฉ",
        loading: "ุฌุงุฑู ุงูุจุญุซ...", success: "ุชู ุจูุฌุงุญ", error: "ุญุฏุซ ุฎุทุฃ",
        gpsConnecting: "ุฌุงุฑู ุงูุงุชุตุงู ุจุงูุฃููุงุฑ ุงูุตูุงุนูุฉ...",
        gpsSearching: "ุฌุงุฑู ุงูุจุญุซ ุนู ูููุนู ุจุฏูุฉ...",
        gpsDetermining: "ุฌุงุฑู ุงูุชุญุฏูุฏ...",
        gpsFound: "ุชู ุงูุนุซูุฑ ุนููู ูู:",
        gpsUpdated: "ุชู ุชุญุฏูุซ ุงูููุงููุช ุจูุงุกู ุนูู ูููุนู ุงูุญุงูู",
        errFetch: "ุญุฏุซ ุฎุทุฃ ูู ุฌูุจ ุงูุจูุงูุงุช",
        fetchingCity: "ุฌุงุฑู ุฌูุจ ููุงููุช",
        rdTitle: "๐ ุจุฏุงูุฉ ุฑูุถุงู ุญูู ุงูุนุงูู",
        rdSubtitle: "ููุงุนูุฏ ุฃูู ููู ุตูุงู ุญุณุจ ุฅุนูุงู ูู ุฏููุฉ",
        rdWedLabel: "ุชุตูู ุงูุฃุฑุจุนุงุก",
        rdWedDate: "18 ูุจุฑุงูุฑ 2026",
        rdThuLabel: "ุชุตูู ุงูุฎููุณ",
        rdThuDate: "19 ูุจุฑุงูุฑ 2026",
        rdPendingLabel: "19 ุฃู 20 ูุจุฑุงูุฑ",
        rdPendingDate: "ุชูุชุธุฑ ุฑุคูุฉ ุงูููุงู ูุณุงุก ุงูุฃุฑุจุนุงุก",
        rdCountries: {
            sa: "ุงูุณุนูุฏูุฉ", ae: "ุงูุฅูุงุฑุงุช", qa: "ูุทุฑ", kw: "ุงููููุช", bh: "ุงูุจุญุฑูู", ye: "ุงูููู",
            iq: "ุงูุนุฑุงู", sy: "ุณูุฑูุง", lb: "ูุจูุงู", ps: "ููุณุทูู",
            sn: "ุงูุณูุบุงู", mr: "ููุฑูุชุงููุง", ml: "ูุงูู", bf: "ุจูุฑูููุง ูุงุณู", ci: "ุณุงุญู ุงูุนุงุฌ", gw: "ุบูููุง ุจูุณุงู",
            td: "ุชุดุงุฏ", ne: "ุงูููุฌุฑ", ng: "ููุฌูุฑูุง", so: "ุงูุตููุงู", sd: "ุงูุณูุฏุงู", dj: "ุฌูุจูุชู",
            af: "ุฃูุบุงูุณุชุงู", az: "ุฃุฐุฑุจูุฌุงู", mv: "ุงููุงูุฏูู",
            eg: "ูุตุฑ", ly: "ููุจูุง", tn: "ุชููุณ", dz: "ุงูุฌุฒุงุฆุฑ", ma: "ุงููุบุฑุจ",
            jo: "ุงูุฃุฑุฏู", tr: "ุชุฑููุง", om: "ุนููุงู", iq: "ุงูุนุฑุงู",
            ir: "ุฅูุฑุงู", pk: "ุจุงูุณุชุงู", in: "ุงูููุฏ", bd: "ุจูุบูุงุฏูุด", lk: "ุณุฑููุงููุง", np: "ููุจุงู",
            ph: "ุงูููุจูู", th: "ุชุงููุงูุฏ", id: "ุฅูุฏูููุณูุง", my: "ูุงููุฒูุง", bn: "ุจุฑููุงู", sg: "ุณูุบุงููุฑุฉ", jp: "ุงููุงุจุงู", cn: "ุงูุตูู",
            gb: "ุจุฑูุทุงููุง", fr: "ูุฑูุณุง", de: "ุฃููุงููุง", nl: "ููููุฏุง", be: "ุจูุฌููุง", es: "ุฅุณุจุงููุง",
            it: "ุฅูุทุงููุง", se: "ุงูุณููุฏ", no: "ุงููุฑููุฌ", dk: "ุงูุฏููุงุฑู", ba: "ุงูุจูุณูุฉ", al: "ุฃูุจุงููุง", ru: "ุฑูุณูุง",
            us: "ุฃูุฑููุง", ca: "ููุฏุง", br: "ุงูุจุฑุงุฒูู", ar2: "ุงูุฃุฑุฌูุชูู",
            au: "ุฃุณุชุฑุงููุง", nz: "ูููุฒูููุฏุง", gh: "ุบุงูุง", cm: "ุงููุงููุฑูู", za: "ุฌููุจ ุฃูุฑูููุง"
        },
        rdRegions: {
            rgGulf: "๐๏ธ ุงูุฎููุฌ ุงูุนุฑุจู", rgMashreq: "๐ ุงููุดุฑู ุงูุนุฑุจู", rgAfricaWed: "๐ ุฃูุฑูููุง", rgCentralAsia: "๐๏ธ ุขุณูุง ุงููุณุทู",
            rgNorthAfrica: "๐ ุดูุงู ุฃูุฑูููุง", rgMashreqThu: "๐ ุงููุดุฑู ูุงูุฎููุฌ", rgAsia: "๐ ุขุณูุง",
            rgEurope: "๐ ุฃูุฑูุจุง", rgEuropeThu: "๐ ุฃูุฑูุจุง", rgAmericas: "๐ ุงูุฃูุฑููุชุงู", rgAmericasWed: "๐ ุฃูุฑููุง ูููุฏุง", rgOceania: "๐ ุฃูููุงููุณูุง ูุฃูุฑูููุง"
        },
        rdNote: "โ๏ธ ุจุนุถ ุงููุณุงุฌุฏ ูู ุฃูุฑูุจุง ูุฃูุฑููุง ุชุชุจุน ุฑุคูุฉ ุงูุณุนูุฏูุฉ (18 ูุจุฑุงูุฑ)",
        rdCountText: "ุฏููุฉ ุชู ุชุญุฏูุฏูุง",
        rdWedCount: "24 ุฏููุฉ",
        rdThuCount: "45 ุฏููุฉ",
        rdLikely: "ูุฑุฌุญ"
    },
    en: {
        title: "๐ Ramadan Calendar 2026",
        welcome: "Ramadan Kareem โ May Allah accept your fasting and prayers",
        verse: "ููุง ุฃููููููุง ุงูููุฐูููู ุขูููููุง ููุชูุจู ุนููููููููู ุงูุตููููุงูู ููููุง ููุชูุจู ุนูููู ุงูููุฐูููู ููู ููุจููููููู ููุนูููููููู ุชูุชููููููู",
        verseSrc: "ุณูุฑุฉ ุงูุจูุฑุฉ - 183",
        verseTitle: "๐ Aya of the Day",
        duaTitle: "๐คฒ Dua of the Day",
        timesTitle: "๐ Prayer Times Today",
        fajr: "Fajr", sunrise: "Sunrise", dhuhr: "Dhuhr", asr: "Asr", maghrib: "Maghrib", isha: "Isha",
        statusSync: "Synced Successfully - Times are now 100% accurate",
        statusGPS: "Please Enable GPS",
        btnGPS: '<i class="fas fa-location-arrow"></i> Locate Me & Update Times',
        monthTitle: "๐ Ramadan Schedule 2026",
        source: "Source: Aladhan API (Accurate global time)",
        sourceUsed: "Source Used: Aladhan API",
        syncCity: "Location Set: City",
        syncCountry: ", Country",
        monthDesc: "Complete prayer times table for 30 days",
        selContinent: "๐ Select Continent", selCountry: "๐ณ๏ธ Select Country", selCity: "๐๏ธ Select City",
        tableDate: "Date", tableRamadan: "Ramadan", tableDay: "Day",
        footer: "Ramadan Kareem ๐ Accurate Times God Willing",
        devName: "Osama Ahmed โฆ", devRole: "Frontend Developer & UI/UX Designer",
        devDesc: "I'm always happy to hear your feedback and suggestions. Connect with me via:",
        audioPlay: "Play Audio", audioMute: "Mute Audio",
        langBtn: "Language / ุงููุบุฉ",
        loading: "Searching...", success: "Success", error: "Error Occurred",
        gpsConnecting: "Connecting to satellites...",
        gpsSearching: "Searching for your location...",
        gpsDetermining: "Determining...",
        gpsFound: "You were found in:",
        gpsUpdated: "Prayer times updated based on your location",
        errFetch: "Error fetching data",
        fetchingCity: "Fetching times for",
        rdTitle: "๐ Ramadan Start Around the World",
        rdSubtitle: "First day of fasting as announced by each country",
        rdWedLabel: "Fasting starts Wednesday",
        rdWedDate: "February 18, 2026",
        rdThuLabel: "Fasting starts Thursday",
        rdThuDate: "February 19, 2026",
        rdPendingLabel: "Feb 19 or 20",
        rdPendingDate: "Awaiting crescent sighting Wednesday evening",
        rdCountries: {
            sa: "Saudi Arabia", ae: "UAE", qa: "Qatar", kw: "Kuwait", bh: "Bahrain", ye: "Yemen",
            iq: "Iraq", sy: "Syria", lb: "Lebanon", ps: "Palestine",
            sn: "Senegal", mr: "Mauritania", ml: "Mali", bf: "Burkina Faso", ci: "Ivory Coast", gw: "Guinea-Bissau",
            td: "Chad", ne: "Niger", ng: "Nigeria", so: "Somalia", sd: "Sudan", dj: "Djibouti",
            af: "Afghanistan", az: "Azerbaijan", mv: "Maldives",
            eg: "Egypt", ly: "Libya", tn: "Tunisia", dz: "Algeria", ma: "Morocco",
            jo: "Jordan", tr: "Turkey", om: "Oman", iq: "Iraq",
            ir: "Iran", pk: "Pakistan", in: "India", bd: "Bangladesh", lk: "Sri Lanka", np: "Nepal",
            ph: "Philippines", th: "Thailand", id: "Indonesia", my: "Malaysia", bn: "Brunei", sg: "Singapore", jp: "Japan", cn: "China",
            gb: "United Kingdom", fr: "France", de: "Germany", nl: "Netherlands", be: "Belgium", es: "Spain",
            it: "Italy", se: "Sweden", no: "Norway", dk: "Denmark", ba: "Bosnia", al: "Albania", ru: "Russia",
            us: "United States", ca: "Canada", br: "Brazil", ar2: "Argentina",
            au: "Australia", nz: "New Zealand", gh: "Ghana", cm: "Cameroon", za: "South Africa"
        },
        rdRegions: {
            rgGulf: "\ud83c\udfd6\ufe0f Arabian Gulf", rgMashreq: "\ud83d\udd4c Arab Mashreq", rgAfricaWed: "\ud83c\udf0d Africa", rgCentralAsia: "\ud83c\udfd4\ufe0f Central Asia",
            rgNorthAfrica: "\ud83c\udf0d North Africa", rgMashreqThu: "\ud83d\udd4c Mashreq & Gulf", rgAsia: "\ud83c\udf0f Asia",
            rgEurope: "\ud83c\udf0d Europe", rgEuropeThu: "\ud83c\udf0d Europe", rgAmericas: "\ud83c\udf0e Americas", rgAmericasWed: "\ud83c\udf0e Americas", rgOceania: "\ud83c\udf0a Oceania & Africa"
        },
        rdNote: "\u26a0\ufe0f Some mosques in Europe & Americas follow Saudi sighting (Feb 18)",
        rdCountText: "countries identified",
        rdWedCount: "24 countries",
        rdThuCount: "45 countries",
        rdLikely: "(Likely)"
    }
};

let currentLang = 'ar';

function toggleLanguage() {
    currentLang = currentLang === 'ar' ? 'en' : 'ar';
    const t = translations[currentLang];
    const isAr = currentLang === 'ar';

 
    document.documentElement.lang = currentLang;
    document.documentElement.dir = isAr ? 'rtl' : 'ltr';

    
    document.title = t.title;
    updateText('.main-title', t.title);
    updateText('.welcome-msg', t.welcome);
    updateText('.verse-text', t.verse);
    updateText('.verse-ref', t.verseSrc);
    updateText('.box-label', t.verseTitle, 0);
    updateText('.box-label', t.duaTitle, 1);
    updateText('.section-title', t.timesTitle, 0);
    updateText('.section-title', t.monthTitle, 1);
    updateText('.section-desc', t.monthDesc);

    
    const labels = document.querySelectorAll('.prayer-label');
    if (labels.length >= 6) {
        labels[0].textContent = t.fajr; labels[1].textContent = t.sunrise;
        labels[2].textContent = t.dhuhr; labels[3].textContent = t.asr;
        labels[4].textContent = t.maghrib; labels[5].textContent = t.isha;
    }

    const btn = document.querySelector('.sync-btn');
    if (btn) btn.innerHTML = t.btnGPS;

    const selCont = document.getElementById('continent').options[0];
    const selCount = document.getElementById('country').options[0];
    const selCity = document.getElementById('city').options[0];
    if (selCont) selCont.textContent = t.selContinent;
    if (selCount) selCount.textContent = t.selCountry;
    if (selCity) selCity.textContent = t.selCity;

    const ths = document.querySelectorAll('th');
    if (ths.length >= 9) {
        ths[0].textContent = t.tableDate; ths[1].textContent = t.tableRamadan; ths[2].textContent = t.tableDay;
        ths[3].textContent = t.fajr; ths[4].textContent = t.sunrise; ths[5].textContent = t.dhuhr;
        ths[6].textContent = t.asr; ths[7].textContent = t.maghrib; ths[8].textContent = t.isha;
    }

    document.querySelector('footer').textContent = t.footer;

    updateText('.dev-name', t.devName);
    updateText('.dev-role', t.devRole);
    updateText('.dev-desc', t.devDesc);

    updateText('.prayer-title', t.timesTitle);
    updateText('#status', t.statusSync);
    updateText('.source-hint', t.source); 

   
    const banners = document.querySelectorAll('.location-banner b');
    if (banners.length >= 2) {
        const bannerContainers = document.querySelectorAll('.location-banner');
        bannerContainers.forEach(b => {
            if (b.textContent.includes('ุชู ุถุจุท') || b.textContent.includes('Location Set')) {
                const city = b.querySelector('b:nth-of-type(1)')?.textContent || '';
                const country = b.querySelector('b:nth-of-type(2)')?.textContent || '';
                b.innerHTML = `<i class="fas fa-check-circle" style="color:#22c55e"></i> ${t.syncCity} <b>${city}</b>${t.syncCountry} <b>${country}</b>
                                <span class="source-hint">${t.sourceUsed}</span>`;
            }
        });
    }

    const lBtn = document.getElementById('langBtn');
    if (lBtn) lBtn.textContent = isAr ? 'En' : 'Ar';

    
    updateText('#rdTitle', t.rdTitle)
    updateText('#rdSubtitle', t.rdSubtitle);
    document.querySelectorAll('.rd-wed-label').forEach(el => el.textContent = t.rdWedLabel);
    document.querySelectorAll('.rd-wed-date').forEach(el => el.textContent = t.rdWedDate);
    document.querySelectorAll('.rd-thu-label').forEach(el => el.textContent = t.rdThuLabel);
    document.querySelectorAll('.rd-thu-date').forEach(el => el.textContent = t.rdThuDate);
    document.querySelectorAll('.rd-country').forEach(el => {
        const key = el.getAttribute('data-key');
        if (t.rdCountries && t.rdCountries[key]) {
            el.textContent = t.rdCountries[key];
        }
    });
    document.querySelectorAll('.rd-region').forEach(el => {
        const key = el.getAttribute('data-key');
        if (t.rdRegions && t.rdRegions[key]) {
            el.textContent = t.rdRegions[key];
        }
    });
    const rdNoteEl = document.getElementById('rdNote');
    if (rdNoteEl && t.rdNote) rdNoteEl.textContent = t.rdNote;
    const rdCountTextEl = document.getElementById('rdCountText');
    if (rdCountTextEl) rdCountTextEl.textContent = t.rdCountText;
    const wedCountEl = document.getElementById('wedCount');
    if (wedCountEl) wedCountEl.textContent = t.rdWedCount;
    const thuCountEl = document.getElementById('thuCount');
    if (thuCountEl) thuCountEl.textContent = t.rdThuCount;
    document.querySelectorAll('.rd-likely').forEach(el => el.textContent = t.rdLikely);

    if (typeof showDailyDua === 'function') showDailyDua();
    if (typeof renderAll === 'function') renderAll();
}

function updateText(selector, text, index = 0) {
    const els = document.querySelectorAll(selector);
    if (els[index]) els[index].textContent = text;
}
